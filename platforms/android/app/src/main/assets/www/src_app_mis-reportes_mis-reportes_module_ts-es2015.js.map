{"version":3,"sources":["./src/app/Services/misreportes.service.ts","./src/app/mis-reportes/mis-reportes-routing.module.ts","./src/app/mis-reportes/mis-reportes.module.ts","./src/app/mis-reportes/mis-reportes.page.ts","./src/app/mis-reportes/mis-reportes.page.scss","./src/app/mis-reportes/mis-reportes.page.html"],"names":[],"mappings":"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","file":"src_app_mis-reportes_mis-reportes_module_ts-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MisreportesService {\r\n\r\n  constructor(public http: HttpClient) {\r\n  }\r\n\r\n  obtenerMisReportes(cod_usuario:number){\r\n    return this.http.get('http://api.miscalleslimpiasrd.tecnolora.com/api/MisCallesLimpiasRD/ConsultarListadoDeReportes?cod_usuario='+cod_usuario+\"\");\r\n  }\r\n\r\n//   return this.http.get('https://localhost:44371/api/MisCallesLimpiasRD/ConsultarListadoDeReportes/'+cod_usuario+\"\");\r\n// }\r\n\r\nobtenerFoto(cod_reporte:number){\r\n    return this.http.get('http://api.miscalleslimpiasrd.tecnolora.com/api/MisCallesLimpiasRD/obtenerFoto?cod_reporte='+cod_reporte+\"\");\r\n  }\r\n\r\n//   return this.http.get('https://localhost:44371/api/MisCallesLimpiasRD/obtenerFoto/'+cod_reporte+\"\");\r\n// }\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MisReportesPage } from './mis-reportes.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MisReportesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MisReportesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MisReportesPageRoutingModule } from './mis-reportes-routing.module';\r\n\r\nimport { MisReportesPage } from './mis-reportes.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MisReportesPageRoutingModule\r\n  ],\r\n  declarations: [MisReportesPage]\r\n})\r\nexport class MisReportesPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MisreportesService } from '../Services/misreportes.service';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Variableglobal } from '../variableglobal';\r\nimport {RegistroService} from '../Services/registro.service';\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\n\r\n\r\n@Component({\r\n  selector: 'app-mis-reportes',\r\n  templateUrl: './mis-reportes.page.html',\r\n  styleUrls: ['./mis-reportes.page.scss'],\r\n}) \r\nexport class MisReportesPage implements OnInit {\r\n  cod_usuario:any;\r\n  cod_reporte:any;\r\n  public reportes: any;\r\n  public niveles:any;\r\n  public datos:any;\r\n\r\n  currentImage: any;\r\n\r\n  constructor(\r\n    public servicio:MisreportesService, \r\n    public alertController: AlertController, \r\n    public nivelUsuario: RegistroService, \r\n    public modalCtrl: ModalController) \r\n    { \r\n    this.cod_usuario = Variableglobal.cod_usuario;\r\n  }\r\n\r\n\r\n  async ImgAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      message: `<img src=\"${this.currentImage}\" alt=\"g-maps\" style=\"border-radius: 2px\">`,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n \r\n  ngOnInit() {\r\n     this.cod_usuario = Variableglobal.cod_usuario; \r\n\r\n    this.servicio.obtenerMisReportes(this.cod_usuario).subscribe((data)=>\r\n    {this.reportes = data;},\r\n      (error)=>{console.log(error);}\r\n    )\r\n    // this.obtenerFoto(); \r\n \r\n    this.nivelUsuario.NivelUsuario(this.cod_usuario).subscribe((data)=>\r\n    {this.niveles = data;},\r\n      (error)=>{console.log(error);}\r\n    )\r\n  \r\n \r\n \r\n  }\r\n\r\n  \r\n\r\n  obtenerFoto(cod_reporte){\r\n    this.servicio.obtenerFoto(cod_reporte).subscribe((data)=>{\r\n      this.datos = data;\r\n      if (this.datos.respuesta == \"OK\")\r\n      {\r\n        this.datos = data\r\n        this.currentImage = this.datos.fotos\r\n        this.ImgAlert();\r\n      }\r\n      else\r\n      {\r\n        alert(\"Hubo un error al cargar la foto\")\r\n      }\r\n     \r\n    },\r\n    (error)=>{\r\n      alert(\"Hubo un error al cargar la foto\")\r\n    });\r\n  }\r\n\r\n\r\n  showAlert(i) {\r\n    \r\n\r\nthis.cod_reporte=((document.getElementById('cod_reporte' + i) as HTMLIonLabelElement).textContent);\r\n \r\nthis.obtenerFoto(this.cod_reporte)\r\n  }\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtaXMtcmVwb3J0ZXMucGFnZS5zY3NzIn0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-menu-button></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Mis Reportes</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content class=\\\"contenedor--reportes\\\">\\r\\n\\r\\n    <!-- <img  [src]=\\\"currentImage\\\" *ngIf=\\\"currentImage\\\"> -->\\r\\n    <ion-item class=\\\"reportes-header\\\">\\r\\n        <ion-label>\\r\\n            ---\\r\\n        </ion-label>\\r\\n        <ion-label class=\\\"ubicacion\\\">\\r\\n            Ubicación\\r\\n        </ion-label>\\r\\n        <ion-label class=\\\"codigo\\\">\\r\\n            Código\\r\\n        </ion-label>\\r\\n    </ion-item>\\r\\n    <ion-list class=\\\"reportes\\\" *ngFor=\\\"let reporte of reportes; let i = index\\\">\\r\\n\\r\\n        <ion-item (click)=\\\"showAlert(i)\\\" button detail=\\\"false\\\">\\r\\n            <div class=\\\"imagen-codigo\\\">\\r\\n                <ion-label class=\\\"codigo\\\" id=\\\"{{'cod_reporte' + i}}\\\"> {{reporte.cod_reporte}} </ion-label>\\r\\n                <img src=\\\"assets/imagenes/basura.png\\\" class=\\\"imagen\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"reportes--datos\\\">\\r\\n                <p style=\\\"color: #569CD6;\\\">&nbsp;{{reporte.ubicacion}}</p>\\r\\n                <p class=\\\"lat_long\\\" style=\\\"color: #569CD6;\\\">&nbsp;{{reporte.lat}}, {{reporte.lng}}</p>\\r\\n\\r\\n\\r\\n                <!-- <ion-label class=\\\"reportes--datos__codigo\\\" id=\\\"{{'cod_reporte' + i}}\\\"> {{reporte.cod_reporte}} </ion-label> -->\\r\\n\\r\\n            </div>\\r\\n            <!-- <ion-input [value]=\\\"title\\\"></ion-input> -->\\r\\n        </ion-item>\\r\\n    </ion-list>\\r\\n\\r\\n\\r\\n    <!-- <ion-card >\\r\\n<ion-list class=\\\"reportes\\\" *ngFor=\\\"let nivel of niveles\\\">\\r\\n \\r\\n\\r\\n\\r\\n<ion-label   class=\\\"reportes--datos__codigo\\\" > {{nivel.cod_nivel}} </ion-label> \\r\\n<ion-input [value]=\\\"title\\\"></ion-input> -->\\r\\n    <!-- </ion-item>\\r\\n</ion-list>\\r\\n</ion-card> -->\\r\\n\\r\\n</ion-content>\";"],"sourceRoot":"webpack:///"}