{"version":3,"sources":["webpack:///src/app/Services/misreportes.service.ts","webpack:///src/app/mis-reportes/mis-reportes-routing.module.ts","webpack:///src/app/mis-reportes/mis-reportes.module.ts","webpack:///src/app/mis-reportes/mis-reportes.page.ts","webpack:///src/app/mis-reportes/mis-reportes.page.scss","webpack:///src/app/mis-reportes/mis-reportes.page.html"],"names":["MisreportesService","http","cod_usuario","get","cod_reporte","HttpClient","Injectable","providedIn","routes","path","component","MisReportesPage","MisReportesPageRoutingModule","NgModule","imports","RouterModule","exports","MisReportesPageModule","CommonModule","FormsModule","IonicModule","declarations","servicio","alertController","nivelUsuario","modalCtrl","Variableglobal","create","cssClass","message","currentImage","buttons","alert","present","obtenerMisReportes","subscribe","data","reportes","error","console","log","NivelUsuario","niveles","obtenerFoto","datos","respuesta","fotos","ImgAlert","i","document","getElementById","textContent","AlertController","RegistroService","ModalController","Component","selector","template"],"mappings":"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","file":"src_app_mis-reportes_mis-reportes_module_ts-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MisreportesService {\r\n\r\n  constructor(public http: HttpClient) {\r\n  }\r\n\r\n  obtenerMisReportes(cod_usuario:number){\r\n    return this.http.get('http://api.miscalleslimpiasrd.tecnolora.com/api/MisCallesLimpiasRD/ConsultarListadoDeReportes?cod_usuario='+cod_usuario+\"\");\r\n  }\r\n\r\n//   return this.http.get('https://localhost:44371/api/MisCallesLimpiasRD/ConsultarListadoDeReportes/'+cod_usuario+\"\");\r\n// }\r\n\r\nobtenerFoto(cod_reporte:number){\r\n    return this.http.get('http://api.miscalleslimpiasrd.tecnolora.com/api/MisCallesLimpiasRD/obtenerFoto?cod_reporte='+cod_reporte+\"\");\r\n  }\r\n\r\n//   return this.http.get('https://localhost:44371/api/MisCallesLimpiasRD/obtenerFoto/'+cod_reporte+\"\");\r\n// }\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MisReportesPage } from './mis-reportes.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MisReportesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MisReportesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MisReportesPageRoutingModule } from './mis-reportes-routing.module';\r\n\r\nimport { MisReportesPage } from './mis-reportes.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MisReportesPageRoutingModule\r\n  ],\r\n  declarations: [MisReportesPage]\r\n})\r\nexport class MisReportesPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MisreportesService } from '../Services/misreportes.service';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Variableglobal } from '../variableglobal';\r\nimport {RegistroService} from '../Services/registro.service';\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\n\r\n\r\n@Component({\r\n  selector: 'app-mis-reportes',\r\n  templateUrl: './mis-reportes.page.html',\r\n  styleUrls: ['./mis-reportes.page.scss'],\r\n}) \r\nexport class MisReportesPage implements OnInit {\r\n  cod_usuario:any;\r\n  cod_reporte:any;\r\n  public reportes: any;\r\n  public niveles:any;\r\n  public datos:any;\r\n\r\n  currentImage: any;\r\n\r\n  constructor(\r\n    public servicio:MisreportesService, \r\n    public alertController: AlertController, \r\n    public nivelUsuario: RegistroService, \r\n    public modalCtrl: ModalController) \r\n    { \r\n    this.cod_usuario = Variableglobal.cod_usuario;\r\n  }\r\n\r\n\r\n  async ImgAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      message: `<img src=\"${this.currentImage}\" alt=\"g-maps\" style=\"border-radius: 2px\">`,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n \r\n  ngOnInit() {\r\n    this.cod_usuario = Variableglobal.cod_usuario;\r\n    this.servicio.obtenerMisReportes(this.cod_usuario).subscribe((data)=>\r\n    {this.reportes = data;},\r\n      (error)=>{console.log(error);}\r\n    )\r\n    // this.obtenerFoto(); \r\n \r\n    this.nivelUsuario.NivelUsuario(this.cod_usuario).subscribe((data)=>\r\n    {this.niveles = data;},\r\n      (error)=>{console.log(error);}\r\n    )\r\n  \r\n \r\n \r\n  }\r\n\r\n  \r\n\r\n  obtenerFoto(cod_reporte){\r\n    this.servicio.obtenerFoto(cod_reporte).subscribe((data)=>{\r\n      this.datos = data;\r\n      if (this.datos.respuesta == \"OK\")\r\n      {\r\n        this.datos = data\r\n        this.currentImage = this.datos.fotos\r\n        this.ImgAlert();\r\n      }\r\n      else\r\n      {\r\n        alert(\"Hubo un error al cargar la foto\")\r\n      }\r\n     \r\n    },\r\n    (error)=>{\r\n      alert(\"Hubo un error al cargar la foto\")\r\n    });\r\n  }\r\n\r\n\r\n  showAlert(i) {\r\n    \r\n\r\nthis.cod_reporte=((document.getElementById('cod_reporte' + i) as HTMLIonLabelElement).textContent);\r\n \r\nthis.obtenerFoto(this.cod_reporte)\r\n  }\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtaXMtcmVwb3J0ZXMucGFnZS5zY3NzIn0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-menu-button></ion-menu-button>\\r\\n      </ion-buttons>\\r\\n      <ion-title>Mis Reportes</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content class=\\\"contenedor--reportes\\\">\\r\\n\\r\\n  <!-- <img  [src]=\\\"currentImage\\\" *ngIf=\\\"currentImage\\\"> -->\\r\\n  <ion-item class=\\\"reportes-header\\\">\\r\\n      <ion-label>\\r\\n          ---\\r\\n      </ion-label>\\r\\n      <ion-label class=\\\"ubicacion\\\">\\r\\n          Ubicación\\r\\n      </ion-label>\\r\\n      <ion-label class=\\\"codigo\\\">\\r\\n          Código\\r\\n      </ion-label>\\r\\n  </ion-item>\\r\\n  <ion-list class=\\\"reportes\\\" *ngFor=\\\"let reporte of reportes; let i = index\\\">\\r\\n\\r\\n      <ion-item (click)=\\\"showAlert(i)\\\" button detail=\\\"false\\\">\\r\\n          <img src=\\\"assets/imagenes/basura.png\\\" class=\\\"imagen\\\">\\r\\n\\r\\n          <div class=\\\"reportes--datos\\\">\\r\\n            <ion-label style=\\\"color: #569CD6;\\\">&nbsp;{{reporte.ubicacion}}</ion-label>\\r\\n\\r\\n              <ion-label class=\\\"reportes--datos--ubicacion\\\" id=\\\"{{'cod_reportessssss' + i}}\\\"> </ion-label>\\r\\n              <div class=\\\"reportes--datos__latlong\\\">\\r\\n                  <ion-label>&nbsp;Latitud & Longitud</ion-label>\\r\\n                  <ion-label style=\\\"color: #569CD6;\\\">&nbsp;{{reporte.lat}}, {{reporte.lng}}</ion-label>\\r\\n              </div>\\r\\n\\r\\n              <ion-label class=\\\"reportes--datos__codigo\\\" id=\\\"{{'cod_reporte' + i}}\\\"> {{reporte.cod_reporte}} </ion-label>\\r\\n\\r\\n          </div>\\r\\n          <!-- <ion-input [value]=\\\"title\\\"></ion-input> -->\\r\\n      </ion-item>\\r\\n  </ion-list>\\r\\n\\r\\n\\r\\n  <!-- <ion-card >\\r\\n<ion-list class=\\\"reportes\\\" *ngFor=\\\"let nivel of niveles\\\">\\r\\n \\r\\n\\r\\n\\r\\n<ion-label   class=\\\"reportes--datos__codigo\\\" > {{nivel.cod_nivel}} </ion-label> \\r\\n<ion-input [value]=\\\"title\\\"></ion-input> -->\\r\\n  <!-- </ion-item>\\r\\n</ion-list>\\r\\n</ion-card> -->\\r\\n\\r\\n</ion-content>\";"]}