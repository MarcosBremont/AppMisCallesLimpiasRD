{"version":3,"sources":["webpack:///src/app/Services/misreportes.service.ts","webpack:///src/app/mis-reportes/mis-reportes-routing.module.ts","webpack:///src/app/mis-reportes/mis-reportes.module.ts","webpack:///src/app/mis-reportes/mis-reportes.page.ts","webpack:///src/app/mis-reportes/mis-reportes.page.scss","webpack:///src/app/mis-reportes/mis-reportes.page.html"],"names":["MisreportesService","http","cod_usuario","get","cod_reporte","HttpClient","Injectable","providedIn","routes","path","component","MisReportesPage","MisReportesPageRoutingModule","NgModule","imports","RouterModule","exports","MisReportesPageModule","CommonModule","FormsModule","IonicModule","declarations","servicio","alertController","nivelUsuario","modalCtrl","Variableglobal","create","cssClass","message","currentImage","buttons","alert","present","obtenerMisReportes","subscribe","data","reportes","error","console","log","NivelUsuario","niveles","obtenerFoto","datos","respuesta","fotos","ImgAlert","i","document","getElementById","textContent","AlertController","RegistroService","ModalController","Component","selector","template"],"mappings":"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","file":"src_app_mis-reportes_mis-reportes_module_ts-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { HttpClientModule } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MisreportesService {\n\n  constructor(public http: HttpClient) {\n  }\n\n  obtenerMisReportes(cod_usuario:number){\n    return this.http.get('http://api.miscalleslimpiasrd.tecnolora.com/api/MisCallesLimpiasRD/ConsultarListadoDeReportes?cod_usuario='+cod_usuario+\"\");\n  }\n\n//   return this.http.get('https://localhost:44371/api/MisCallesLimpiasRD/ConsultarListadoDeReportes/'+cod_usuario+\"\");\n// }\n\nobtenerFoto(cod_reporte:number){\n    return this.http.get('http://api.miscalleslimpiasrd.tecnolora.com/api/MisCallesLimpiasRD/obtenerFoto?cod_reporte='+cod_reporte+\"\");\n  }\n\n//   return this.http.get('https://localhost:44371/api/MisCallesLimpiasRD/obtenerFoto/'+cod_reporte+\"\");\n// }\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MisReportesPage } from './mis-reportes.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MisReportesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MisReportesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MisReportesPageRoutingModule } from './mis-reportes-routing.module';\n\nimport { MisReportesPage } from './mis-reportes.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MisReportesPageRoutingModule\n  ],\n  declarations: [MisReportesPage]\n})\nexport class MisReportesPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { MisreportesService } from '../Services/misreportes.service';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AlertController } from '@ionic/angular';\nimport { Variableglobal } from '../variableglobal';\nimport {RegistroService} from '../Services/registro.service';\nimport { ModalController, NavParams } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-mis-reportes',\n  templateUrl: './mis-reportes.page.html',\n  styleUrls: ['./mis-reportes.page.scss'],\n}) \nexport class MisReportesPage implements OnInit {\n  cod_usuario:any;\n  cod_reporte:any;\n  public reportes: any;\n  public niveles:any;\n  public datos:any;\n\n  currentImage: any;\n\n  constructor(\n    public servicio:MisreportesService, \n    public alertController: AlertController, \n    public nivelUsuario: RegistroService, \n    public modalCtrl: ModalController) \n    { \n    this.cod_usuario = Variableglobal.cod_usuario;\n  }\n\n\n  async ImgAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      message: `<img src=\"${this.currentImage}\" alt=\"g-maps\" style=\"border-radius: 2px\">`,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n \n  ngOnInit() {\n    // this.cod_usuario = Variableglobal.cod_usuario; HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHDESCOMENTARHHHHHHHHHHHHHHHHHHHH\n    this.cod_usuario=1;\n    this.servicio.obtenerMisReportes(this.cod_usuario).subscribe((data)=>\n    {this.reportes = data;},\n      (error)=>{console.log(error);}\n    )\n    // this.obtenerFoto(); \n \n    this.nivelUsuario.NivelUsuario(this.cod_usuario).subscribe((data)=>\n    {this.niveles = data;},\n      (error)=>{console.log(error);}\n    )\n  \n \n \n  }\n\n  \n\n  obtenerFoto(cod_reporte){\n    this.servicio.obtenerFoto(cod_reporte).subscribe((data)=>{\n      this.datos = data;\n      if (this.datos.respuesta == \"OK\")\n      {\n        this.datos = data\n        this.currentImage = this.datos.fotos\n        this.ImgAlert();\n      }\n      else\n      {\n        alert(\"Hubo un error al cargar la foto\")\n      }\n     \n    },\n    (error)=>{\n      alert(\"Hubo un error al cargar la foto\")\n    });\n  }\n\n\n  showAlert(i) {\n    \n\nthis.cod_reporte=((document.getElementById('cod_reporte' + i) as HTMLIonLabelElement).textContent);\n \nthis.obtenerFoto(this.cod_reporte)\n  }\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtaXMtcmVwb3J0ZXMucGFnZS5zY3NzIn0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title>Mis Reportes</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content class=\\\"contenedor--reportes\\\">\\n\\n    <!-- <img  [src]=\\\"currentImage\\\" *ngIf=\\\"currentImage\\\"> -->\\n    <ion-item class=\\\"reportes-header\\\">\\n        <ion-label>\\n            ---\\n        </ion-label>\\n        <ion-label class=\\\"ubicacion\\\">\\n            Ubicación\\n        </ion-label>\\n        <ion-label class=\\\"codigo\\\">\\n            Código\\n        </ion-label>\\n    </ion-item>\\n    <ion-list class=\\\"reportes\\\" *ngFor=\\\"let reporte of reportes; let i = index\\\">\\n\\n        <ion-item (click)=\\\"showAlert(i)\\\" button detail=\\\"false\\\">\\n            <div class=\\\"imagen-codigo\\\">\\n                <ion-label class=\\\"codigo\\\" id=\\\"{{'cod_reporte' + i}}\\\"> {{reporte.cod_reporte}} </ion-label>\\n                <img src=\\\"assets/imagenes/basura.png\\\" class=\\\"imagen\\\">\\n            </div>\\n\\n            <div class=\\\"reportes--datos\\\">\\n                <p style=\\\"color: #569CD6;\\\">&nbsp;{{reporte.ubicacion}}</p>\\n                <p class=\\\"lat_long\\\" style=\\\"color: #569CD6;\\\">&nbsp;{{reporte.lat}}, {{reporte.lng}}</p>\\n\\n\\n                <!-- <ion-label class=\\\"reportes--datos__codigo\\\" id=\\\"{{'cod_reporte' + i}}\\\"> {{reporte.cod_reporte}} </ion-label> -->\\n\\n            </div>\\n            <!-- <ion-input [value]=\\\"title\\\"></ion-input> -->\\n        </ion-item>\\n    </ion-list>\\n\\n\\n    <!-- <ion-card >\\n<ion-list class=\\\"reportes\\\" *ngFor=\\\"let nivel of niveles\\\">\\n \\n\\n\\n<ion-label   class=\\\"reportes--datos__codigo\\\" > {{nivel.cod_nivel}} </ion-label> \\n<ion-input [value]=\\\"title\\\"></ion-input> -->\\n    <!-- </ion-item>\\n</ion-list>\\n</ion-card> -->\\n\\n</ion-content>\";"]}