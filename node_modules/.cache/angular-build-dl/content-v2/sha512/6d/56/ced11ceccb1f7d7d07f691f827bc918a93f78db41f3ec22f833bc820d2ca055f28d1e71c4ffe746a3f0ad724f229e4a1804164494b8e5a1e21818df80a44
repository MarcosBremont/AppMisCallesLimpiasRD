{"version":3,"sources":["webpack:///src/app/Services/Login.service.ts","webpack:///src/app/login/login-routing.module.ts","webpack:///src/app/login/login.module.ts","webpack:///src/app/login/login.page.ts","webpack:///src/app/login/login.page.scss","webpack:///src/app/login/login.page.html"],"names":["LoginService","http","platform","usuario","clave","get","HttpClient","Platform","Injectable","providedIn","routes","path","component","LoginPage","LoginPageRoutingModule","NgModule","imports","RouterModule","exports","LoginPageModule","CommonModule","FormsModule","IonicModule","declarations","ionLoaderService","servicio2","menuCtrl","servicio","toastCtrl","alertController","router","navCtrl","isActiveToggleTextPassword","create","cssClass","header","message","buttons","alert","present","enable","obtenerDatosNecesarios","subscribe","data","datos","error","onload","simpleLoader","respuestas","IniciarSesion","respuesta","Variableglobal","cod_usuario","correo_Usuario","cedula_usuario","telefono_Usuario","foto_usuario","navigate","dismissLoader","ErrorAlert","ex","IonLoaderService","DatosnecesarioService","MenuController","ToastController","AlertController","Router","NavController","Component","selector","template"],"mappings":"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","file":"src_app_login_login_module_ts-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\nimport { Platform } from '@ionic/angular';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoginService {\r\n  constructor(public http: HttpClient,platform: Platform) { \r\n \r\n\r\n  }\r\n\r\n  IniciarSesion(usuario:string,clave:string){\r\n      return this.http.get(\"http://api.miscalleslimpiasrd.tecnolora.com/api/miscalleslimpiasrd/iniciarsesion?usuario=\"+usuario+\"&clave=\"+clave+\"\")\r\n  }\r\n\r\n  \r\n\r\n  // return this.http.get(\"https://localhost:44371/api/MisCallesLimpiasRD/IniciarSesion/\"+usuario+\"/\"+clave+\"\")\r\n  // }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IonInput } from '@ionic/angular';\r\nimport { DatosnecesarioService } from '../Services/datosnecesario.service';\r\nimport { LoginService } from '../Services/Login.service';\r\nimport {  MenuController } from '@ionic/angular';\r\nimport { Router } from \"@angular/router\"; \r\nimport { AlertController } from '@ionic/angular';\r\nimport { first } from 'rxjs/operators';\r\nimport { NgForm } from '@angular/forms';\r\nimport { NavController} from '@ionic/angular';\r\nimport { IonLoaderService } from '../Services/ion-loader.service';\r\n\r\nimport { Platform, LoadingController, ToastController } from \"@ionic/angular\";\r\nimport { InicioMapaPage } from '../inicio-mapa/inicio-mapa.page';\r\nimport { Variableglobal } from '../variableglobal';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n  \r\n  usuario;\r\n  clave;\r\n  public datos:any;\r\n  isActiveToggleTextPassword: Boolean = true;\r\n\r\n  constructor(\r\n    private ionLoaderService: IonLoaderService,\r\n    public servicio2:DatosnecesarioService, \r\n    public menuCtrl: MenuController,\r\n    public servicio:LoginService,\r\n    public toastCtrl: ToastController,\r\n    public alertController: AlertController,\r\n    private router:Router,\r\n    public navCtrl: NavController\r\n  ) \r\n  { \r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async ErrorAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Error',\r\n      message: 'Usuario o ContraseÃ±a Incorrecta.',\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n  \r\n  ionViewWillEnter() {\r\n    this.menuCtrl.enable(false);\r\n   }\r\n  \r\n    onload()\r\n    {\r\n      try {\r\n        this.servicio2.obtenerDatosNecesarios(this.usuario).subscribe((data)=>{\r\n          this.datos = data;\r\n          // console.log(data)\r\n         \r\n        },\r\n        (error)=>{\r\n          // alert(error);\r\n          alert(\"Error: \" + error.message)\r\n  \r\n        });\r\n      } \r\n      catch (error) {\r\n        alert(\"Error: \" + error.message)\r\n      }\r\n     \r\n    }\r\n  onVerificarPantallas(){\r\n    \r\n  }\r\n  onIniciarSesion(){\r\n    this.onload();\r\n    this.ionLoaderService.simpleLoader();\r\n\r\n    try\r\n    {\r\n\r\n        let usuario,clave, respuestas;\r\n        usuario = this.usuario;\r\n        clave = this.clave;\r\n        this.servicio.IniciarSesion(usuario,clave).subscribe((data)=>{\r\n          this.datos = data;\r\n          if (this.datos.respuesta == \"OK\")\r\n          {\r\n            \r\n            Variableglobal.cod_usuario = this.datos.cod_usuario;\r\n            Variableglobal.nombre_usuario = usuario;\r\n            Variableglobal.correo_Usuario = this.datos.correo_Usuario;\r\n            Variableglobal.cedula_usuario = this.datos.cedula_usuario;\r\n            Variableglobal.telefono_Usuario = this.datos.telefono_Usuario;\r\n            Variableglobal.clave = this.datos.clave;\r\n            Variableglobal.foto_usuario = this.datos.foto_usuario;\r\n            this.menuCtrl.enable(true);\r\n           \r\n            this.router.navigate(['/inicio-mapa']);\r\n            this.ionLoaderService.dismissLoader();\r\n\r\n          }\r\n          else\r\n          {\r\n            this.ErrorAlert()\r\n          }\r\n         \r\n        },\r\n        (error)=>{\r\n          alert(\"Error: \" + error.message)\r\n          alert(\"Error: \" + error.message)\r\n        });\r\n    }\r\n    catch(ex)\r\n    {\r\n      alert(\"Error: \" + ex.message)\r\n    }\r\n\r\n  }\r\n \r\n  public toggleTextPassword(): void{\r\n    this.isActiveToggleTextPassword = (this.isActiveToggleTextPassword==true)?false:true;\r\n}\r\npublic getType() {\r\n    return this.isActiveToggleTextPassword ? 'password' : 'text';\r\n}\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MifQ== */\";","export default \"<ion-content>\\r\\n\\r\\n  <ion-card-header>\\r\\n    <ion-card-title></ion-card-title>\\r\\n  </ion-card-header>\\r\\n  <div class=\\\"contenedor\\\">\\r\\n  <ion-card-content style=\\\"width: 100%; padding: 10px;\\\">\\r\\n    <div>\\r\\n      <img style=\\\"width: 120px;;margin:auto;display:block\\\" src=\\\"assets/imagenes/MisCallesLimpiasRDCircle.png\\\">\\r\\n    </div>\\r\\n\\r\\n<div class=\\\"login--inputs\\\">\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-input placeholder=\\\"Usuario\\\" maxlength=\\\"50\\\" [(ngModel)]=\\\"usuario\\\" ></ion-input>\\r\\n  </ion-item>\\r\\n<!-- Prueba -->\\r\\n  <ion-item>\\r\\n      <ion-input placeholder=\\\"ContraseÃ±a\\\" [type]=\\\"getType()\\\" [(ngModel)]=\\\"clave\\\" ></ion-input>\\r\\n      <ion-icon style=\\\"align-items: flex-end;\\\" name=\\\"eye\\\" (click)=\\\"toggleTextPassword()\\\"></ion-icon>\\r\\n  </ion-item>\\r\\n\\r\\n</div>\\r\\n \\r\\n  <div class=\\\"login--contraseÃ±a\\\">\\r\\n    <ion-label><a href=\\\"./olvide-mi-contrasena\\\">Â¿Olvidaste tu contraseÃ±a?</a></ion-label>\\r\\n  </div>\\r\\n  \\r\\n  <div class=\\\"boton-login\\\">\\r\\n    \\r\\n    <ion-button expand=\\\"block\\\" (click)=\\\"onIniciarSesion()\\\">Iniciar Sesion</ion-button>\\r\\n  </div>\\r\\n  \\r\\n  <div class=\\\"ion-text-center\\\" style=\\\"margin:auto; width:75%; padding-top: 20px;\\\">\\r\\n    <ion-label>Â¿No tienes una cuenta?</ion-label>\\r\\n    <ion-label><a  href=\\\"./registro\\\"> Registrate aqui</a></ion-label>\\r\\n    </div>\\r\\n\\r\\n  </ion-card-content>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";"]}