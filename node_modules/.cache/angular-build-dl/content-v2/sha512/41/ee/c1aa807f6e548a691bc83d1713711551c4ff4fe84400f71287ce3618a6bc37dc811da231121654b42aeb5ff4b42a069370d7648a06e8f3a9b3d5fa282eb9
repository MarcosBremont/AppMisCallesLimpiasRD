{"version":3,"sources":["./src/app/Services/location.service.ts","./src/app/Services/registro-reporte.service.ts","./src/app/inicio-mapa/inicio-mapa-routing.module.ts","./src/app/inicio-mapa/inicio-mapa.module.ts","./src/app/inicio-mapa/inicio-mapa.page.ts","./src/app/inicio-mapa/inicio-mapa.page.scss","./src/app/inicio-mapa/inicio-mapa.page.html"],"names":[],"mappings":"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","file":"src_app_inicio-mapa_inicio-mapa_module_ts-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LocationService {\r\n\r\n  constructor() { }\r\n  \r\n  getPosition(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n        navigator.geolocation.getCurrentPosition(resp => {\r\n                resolve({lng: resp.coords.longitude, lat: resp.coords.latitude});\r\n            },\r\n            err => {\r\n                reject(err);\r\n          });\r\n    });\r\n}\r\n}\r\n","import { Injectable, TestabilityRegistry } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { RegistroService } from './registro.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RegistroReporteService {\r\n  baseURL: string = \"http://api.miscalleslimpiasrd.tecnolora.com/api/MisCallesLimpiasRD/GuardarFotosOrden\";\r\n\r\n  constructor(public http: HttpClient) { \r\n    var headers = new Headers();\r\n    headers.append(\"Accept\", 'application/json');\r\n    headers.append('Content-Type', 'application/json' );\r\n  }\r\n  \r\n  RegistroReporte(datos:any){\r\n    return this.http.post(this.baseURL, datos);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { InicioMapaPage } from './inicio-mapa.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InicioMapaPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class InicioMapaPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { InicioMapaPageRoutingModule } from './inicio-mapa-routing.module';\r\n\r\nimport { InicioMapaPage } from './inicio-mapa.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    InicioMapaPageRoutingModule\r\n  ],\r\n  declarations: [InicioMapaPage]\r\n})\r\nexport class InicioMapaPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\n// import { base64StringToBlob } from 'blob-util';\r\n// import { Base64 } from '@ionic-native/base64/ngx';\r\nimport { IonLoaderService } from '../Services/ion-loader.service';\r\nimport { RegistroReporteService } from '../Services/registro-reporte.service';\r\nimport { DatosnecesarioService } from '../Services/datosnecesario.service';\r\nimport { LocationService } from '../Services/location.service';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Router } from \"@angular/router\"; \r\nimport {NavController, NavParams } from '@ionic/angular';\r\nimport { Variableglobal } from '../variableglobal';\r\n\r\n\r\nimport {\r\n  GoogleMaps,\r\n  GoogleMap,\r\n  GoogleMapsEvent,\r\n  Marker,\r\n  GoogleMapsAnimation,\r\n  MyLocation\r\n} from \"@ionic-native/google-maps\";\r\n\r\nimport { Platform, LoadingController, ToastController } from \"@ionic/angular\";\r\nimport { NgClass } from '@angular/common';\r\n\r\n\r\n@Component({\r\n  selector: 'app-inicio-mapa',\r\n  templateUrl: './inicio-mapa.page.html',\r\n  styleUrls: ['./inicio-mapa.page.scss'],\r\n})\r\nexport class InicioMapaPage implements OnInit {\r\n  cod_reporte;\r\n  ubicacion;\r\n  lat;\r\n  lng;\r\n  fotos = null;\r\n  cod_usuario;\r\n  isBtnCamaraVisible = false;\r\n  isBtnRegistroVisible = false;\r\n  //Prueba\r\ncod_nivel;\r\n\r\nbtnCamara;\r\nbtnRegistro\r\n  usuario;\r\n  currentImage: any;\r\n\r\n  datos: any;\r\n  map: GoogleMap;\r\n  loading: any;\r\n  height = 0;\r\n  id: any = '0';\r\n  value:any;\r\n  latitude: any = '0';\r\n  longitud: any = '0';\r\n  constructor( \r\n    // private base64: Base64,\r\n    private ionLoaderService: IonLoaderService,\r\n    public servicio2:DatosnecesarioService,\r\n    public servicio3:RegistroReporteService,\r\n    public LocationService:LocationService,\r\n    public loadingCtrl: LoadingController,\r\n    public toastCtrl: ToastController,\r\n    public alertController: AlertController,\r\n    private nav: NavController,\r\n    private platform: Platform,\r\n    public router: Router,\r\n     private camera: Camera\r\n ) \r\n    {\r\n      this.usuario = Variableglobal.nombre_usuario;\r\n      console.log(platform.height())\r\n      this.height = platform.height(); \r\n    }\r\n\r\n    takePicture() {\r\n\r\n      const options: CameraOptions = {\r\n        quality: 100,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        mediaType: this.camera.MediaType.PICTURE\r\n      };\r\n  \r\n      this.camera.getPicture(options).then((imageData) => {\r\n        this.currentImage =  imageData;\r\n        this.Reportar()\r\n        this.ImgAlert();\r\n        console.log(this.currentImage)\r\n        this.VerificarSiHayFoto();\r\n      }, (err) => {\r\n        // Handle error\r\n        console.log(\"Camera issue:\" + err);\r\n      });\r\n\r\n    }\r\n  \r\n\r\n    //Prueba\r\n    pruebaCodNivel(){\r\n        console.log(Variableglobal.cod_nivel);\r\n    }\r\n\r\n   //Aqui arriba mando por consola el codigo nivel por un metodo para ver\r\n//pero si mando otra cosa me lo devuelve correctamente\r\n\r\n\r\n    async ngOnInit() {\r\n      this.VerificarSiHayFoto();\r\n    await this.platform.ready();\r\n    this.onload();\r\n    await this.loadMap();\r\n    await this.localizar()\r\n    }\r\n    \r\n    \r\n    \r\n    VerificarSiHayFoto(){\r\n      console.log(this.currentImage)\r\n      alert(this.currentImage)\r\n      if (this.currentImage != null) {\r\n     this.isBtnRegistroVisible = true;\r\n     this.isBtnCamaraVisible = true;\r\n\r\n      } else {\r\n        this.isBtnRegistroVisible = false;\r\n        this.isBtnCamaraVisible = true;\r\n\r\n      }  \r\n    }\r\n\r\n    loadMap() {\r\n      // Esta función inicializa la propiedad de clase\r\n      // map\r\n      // que va a contener el control de nuestro mapa de google\r\n  \r\n      // Para crear nuestro mapa debemos enviar como parametros\r\n      // el id del div en donde se va a renderizar el mapa (paso anterior)\r\n      // y las opciones que configuran nuestro mapa\r\n      this.map = GoogleMaps.create(\"map_canvas\", {\r\n        camera: {\r\n          target: {\r\n            lat: -2.1537488,\r\n            lng: -79.8883037\r\n          },\r\n          zoom: 18,\r\n          tilt: 30\r\n        }\r\n      });\r\n    }\r\n  \r\n    onload(){\r\n      this.servicio2.obtenerDatosNecesarios(this.usuario).subscribe((data)=>{\r\n        this.datos = data;\r\n      },\r\n      (error)=>{\r\n        alert(\"ErrorDeDatosNecesarios\");\r\n      });\r\n    }\r\n\r\n\r\n    async localizar() {\r\n      // Limpiamos todos los elementos de nuestro mapa\r\n      this.map.clear();\r\n  \r\n      // Creamos un componente de Ionic para mostrar un mensaje\r\n      // mientras obtenemos esperamos que termine el proceso de\r\n      // obtener la ubicación\r\n      this.loading = await this.loadingCtrl.create({\r\n        message: \"Espera por favor...\"\r\n      });\r\n  \r\n      // Presentamos el componente creado en el paso anterior\r\n      await this.loading.present();\r\n  \r\n      // Ejecutamos el método getMyLocation de nuestra propiedad de clase\r\n      // map\r\n      // para obtener nuestra ubicación actual\r\n      this.map\r\n        .getMyLocation()\r\n        .then((location: MyLocation) => {\r\n          // Una vez obtenida la ubicación cerramos el mensaje de diálogo\r\n          this.loading.dismiss();\r\n  \r\n          // Movemos la camara a nuestra ubicación con una pequeña animación\r\n          this.map.animateCamera({\r\n            target: location.latLng,\r\n            zoom: 17,\r\n            tilt: 30\r\n          });\r\n  \r\n          // Agregamos un nuevo marcador\r\n          let marker: Marker = this.map.addMarkerSync({\r\n            title: \"Estoy aquí!\",\r\n            // snippet: \"This plugin is awesome!\",\r\n            position: location.latLng,\r\n            animation: GoogleMapsAnimation.BOUNCE\r\n          });\r\n  \r\n          // Mostramos un InfoWindow\r\n          marker.showInfoWindow();\r\n  \r\n          // Podemos configurar un evento que se ejecute cuando\r\n          // se haya dado clic\r\n          marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe(() => {\r\n            this.showToast(\"clicked!\");\r\n          });\r\n        })\r\n        .catch(error => {\r\n          // En caso de que haya un problema en obtener la\r\n          // ubicación\r\n          this.loading.dismiss();\r\n          this.showToast(error.error_message);\r\n        });\r\n    }\r\n  \r\n    Reportar() {\r\n      this.LocationService.getPosition().then(pos => {\r\n          this.latitude = pos.lat;\r\n          this.longitud = pos.lng;\r\n      });\r\n}\r\n\r\n  // Función que muestra un Toast en la parte inferior\r\n  // de la pantalla\r\n  async showToast(mensaje) {\r\n    let toast = await this.toastCtrl.create({\r\n      message: mensaje,\r\n      duration: 2000,\r\n      position: \"bottom\"\r\n    });\r\n\r\n    toast.present();\r\n  }\r\n\r\n  \r\n  async ImgAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      message: `<img src=\"data:image/jpeg;base64,${this.currentImage}\" alt=\"g-maps\" style=\"border-radius: 2px\">`,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n\r\n  async ErrorAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Error',\r\n      message: 'No se pudo guardar el reporte.',\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async SuccesAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Enhorabuena!',\r\n      message: 'Reporte guardado con exito.',\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n  \r\n\r\n  onRegistroReporte(){\r\n    this.ionLoaderService.simpleLoader();\r\n    let cod_usuario, ubicacion, lat, lng, fotos;\r\n    cod_usuario = Variableglobal.cod_usuario;\r\n    ubicacion = \"Jarabacoa\";\r\n    lat = this.latitude;\r\n    lng = this.longitud;\r\n    fotos = this.currentImage; \r\n    let datos = {\r\n      \"ubicacion\": ubicacion,\r\n      \"lat\": lat,\r\n      \"lng\": lng,\r\n      \"fotos\":fotos,\r\n      \"cod_usuario\":cod_usuario\r\n    };\r\n  \r\n\r\n    this.servicio3.RegistroReporte(datos).subscribe((data)=>{\r\n      this.datos = data;\r\n      if (this.datos == true)\r\n      {\r\n        this.SuccesAlert();\r\n        \r\n        // this.onLimpiar();\r\n      }\r\n      else\r\n      {\r\n        this.ErrorAlert();\r\n      }\r\n      this.ionLoaderService.dismissLoader();\r\n\r\n    },\r\n    (error)=>{\r\n      alert(\"Error \");\r\n    });\r\n  }\r\n}\r\n","export default \"#map_canvas {\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaWNpby1tYXBhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBQ0oiLCJmaWxlIjoiaW5pY2lvLW1hcGEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcF9jYW52YXMge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgfSJdfQ== */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-menu-button persistent=true></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Inicio</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div id=\\\"map_canvas\\\" style=\\\"z-index: 1 !important; overflow: auto !important;\\\"></div>\\r\\n\\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\">\\r\\n      \\r\\n      <ion-fab-button style=\\\"margin: 10px;\\\" [hidden]=\\\"!isBtnCamaraVisible\\\" (click)=\\\"takePicture()\\\">\\r\\n        <ion-icon name=\\\"camera\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n    \\r\\n          <ion-fab-button style=\\\"margin: 10px;\\\" [hidden]=\\\"!isBtnRegistroVisible\\\" (click)=\\\"onRegistroReporte()\\\">\\r\\n              <ion-icon name=\\\"checkmark\\\"></ion-icon>\\r\\n          </ion-fab-button>\\r\\n\\r\\n  </ion-fab>\\r\\n\\r\\n</ion-content>\";"],"sourceRoot":"webpack:///"}